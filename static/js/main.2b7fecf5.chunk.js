(this.webpackJsonpproj6=this.webpackJsonpproj6||[]).push([[0],{43:function(e,t,n){},63:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(37),a=n.n(i),s=n(16),o=(n(43),n(15)),j=n.n(o),l=n(21),d=n(8),b=n(19),u=n.n(b),h=n(74),O=n(14),p=n(3),f=(n(63),n(11)),x=(n(64),n(20)),m=n(2);function v(e,t){return e.name<t.name?-1:e.name>t.name?1:0}function N(e,t){return e.name>t.name?-1:e.name<t.name?1:0}function E(e,t){return Number(e.height)<Number(t.height)?-1:Number(e.height)>Number(t.height)?1:0}function S(e,t){return Number(e.height)>Number(t.height)?-1:Number(e.height)<Number(t.height)?1:0}function g(e){var t=[],n=[],c=[];return e.forEach((function(e){"male"===e.gender?t.push(e):"female"===e.gender?n.push(e):c.push(e)})),{F:n,M:t,R:c}}var y=function(e){var t=e.data,n=t.characters,r=t.title,i=t.opening_crawl,a=t.director,s=t.producer,o=t.release_date,j=Object(c.useState)("ASCENDING"),l=Object(d.a)(j,2),b=l[0],u=l[1],p=Object(c.useState)("ASCENDING"),y=Object(d.a)(p,2),_=y[0],A=y[1],T=Object(c.useState)("MALE"),I=Object(d.a)(T,2),R=I[0],w=I[1],C=Object(c.useReducer)((function(e,t){switch(t.type){case"SORT_NAME_ASCENDING":return Object(f.a)(e).sort(v);case"SORT_NAME_DESCENDING":return Object(f.a)(e).sort(N);case"HEIGHT_SORT_ASCENDING":return Object(f.a)(e).sort(E);case"HEIGHT_SORT_DESCENDING":return Object(f.a)(e).sort(S);case"FEMALE_FILTER":return n.filter((function(e){return"female"===e.gender}));case"MALE_FILTER":return n.filter((function(e){return"male"===e.gender}));case"OTHERS_FILTER":return n.filter((function(e){return"male"!==e.gender&&"female"!==e.gender}));case"SHOW_ALL":return Object(f.a)(n);case"SORT_MALE_FIRST":var c=g(e);return[].concat(Object(f.a)(c.M),Object(f.a)(c.F),Object(f.a)(c.R));case"SORT_FEMALE_FIRST":var r=g(e);return[].concat(Object(f.a)(r.F),Object(f.a)(r.M),Object(f.a)(r.R));default:return e}}),n),D=Object(d.a)(C,2),L=D[0],F=D[1],M=function(e){return e.reduce((function(e,t){var n=t.height;return Number(n)||(n=0),e+Number(n)}),0)}(L),G=function(e){var t=Math.floor(.03*e),n=.39*(e-1/.03*t);return"(".concat(t,"ft/").concat(n.toFixed(2),"in)")}(M),k=function(){"ASCENDING"===_?(F({type:"SORT_NAME_ASCENDING"}),A("DESCENDING")):(F({type:"SORT_NAME_DESCENDING"}),A("ASCENDING"))};return Object(m.jsxs)("div",{className:"movie",children:[Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("h3",{children:r}),Object(m.jsxs)("h4",{children:["released in ",new Date(o).toDateString()]}),Object(m.jsxs)("h4",{children:["produced by ",s]}),Object(m.jsxs)("h4",{children:["directed by ",a]}),Object(m.jsx)(h.a.p,{animate:{opacity:1},initial:{opacity:0},transition:{type:"tween",duration:3,delay:1},children:i})]}),Object(m.jsxs)("div",{className:"button",children:[Object(m.jsx)("h2",{children:"show"}),Object(m.jsxs)(h.a.div,{animate:{x:0},initial:{x:"200vw"},transition:{type:"spring",stiffness:120},children:[Object(m.jsx)("button",{onClick:function(){F({type:"MALE_FILTER"})},children:"Male"}),Object(m.jsx)("button",{onClick:function(){F({type:"FEMALE_FILTER"})},children:"Female"})]}),Object(m.jsxs)(h.a.div,{animate:{x:0},initial:{x:"-200vw"},transition:{type:"spring",stiffness:120},children:[Object(m.jsx)("button",{onClick:function(){F({type:"OTHERS_FILTER"})},children:"Others"}),Object(m.jsx)("button",{onClick:function(){F({type:"SHOW_ALL"})},children:"All "})]})]}),Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{onClick:k,style:{cursor:"pointer"},children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{onDoubleClick:k,children:"Name"}),Object(m.jsx)("th",{onDoubleClick:function(){"MALE"===R?(F({type:"SORT_MALE_FIRST"}),w("FEMALE")):(F({type:"SORT_FEMALE_FIRST"}),w("MALE"))},children:"Gender"}),Object(m.jsx)("th",{onDoubleClick:function(){"ASCENDING"===b?(F({type:"HEIGHT_SORT_ASCENDING"}),u("DESCENDING")):(F({type:"HEIGHT_SORT_DESCENDING"}),u("ASCENDING"))},children:"Height(cm)"})]})}),Object(m.jsxs)("tbody",{children:[L.map((function(e,t){var n,c=e.name,r=e.gender,i=e.height;return Object(m.jsxs)(h.a.tr,{animate:{opacity:1},initial:{opacity:0},transition:{type:"tween",delay:.15*(t+1)},children:[Object(m.jsx)("td",{children:c}),Object(m.jsx)("td",{children:(n=r,"male"===n?Object(m.jsx)(x.b,{fontSize:"20px",color:"rgba(55, 55, 247, 0.734)"}):"female"===n?Object(m.jsx)(x.a,{fontSize:"20px",color:"rgb(247, 78, 78)"}):"hermaphrodite"===n?Object(m.jsxs)("div",{children:[Object(m.jsx)(x.b,{fontSize:"20px",color:"rgba(55, 55, 247, 0.734)"}),Object(m.jsx)(x.a,{fontSize:"20px",color:"rgb(247, 78, 78)"})]}):Object(m.jsx)(O.a,{fontSize:"20px"}))}),Object(m.jsx)("td",{children:i})]},c)})),Object(m.jsxs)(h.a.tr,{animate:{opacity:1},initial:{opacity:0},transition:{type:"tween",delay:.15*(L.length+1)},children:[Object(m.jsxs)("td",{children:[L.length," characters"]}),Object(m.jsx)("td",{colSpan:"2",children:"".concat(M,"cm ").concat(G)})]})]})]})]})};var _=function(){return Object(m.jsx)("div",{className:"loading",children:"Loading..."})};var A=function(){var e=Object(p.h)().id,t=Object(c.useState)(!1),n=Object(d.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(!1),s=Object(d.a)(a,2),o=s[0],b=s[1],f=Object(c.useState)({}),x=Object(d.a)(f,2),v=x[0],N=x[1];function E(){return(E=Object(l.a)(j.a.mark((function e(t){var n,c,r,a,s,o,l,d,h;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,u.a.get(t);case 4:n=e.sent,c=n.data,r=c.characters,a=c.title,s=c.opening_crawl,o=c.director,l=c.producer,d=c.release_date,h=r.map((function(e){return u.a.get(e)})),Promise.all(h).then((function(e){var t=[];e.forEach((function(e){var n=e.data,c={name:n.name,gender:n.gender,height:n.height};t.push(c)})),N({title:a,director:o,producer:l,release_date:d,opening_crawl:s,characters:t}),b(!1),i(!1)})).catch((function(e){b(!1),i(!0)})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),b(!1),i(!0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(e){E.apply(this,arguments)}("https://swapi.dev/api/films/".concat(e))}),[]);var S=null;return o?S=Object(m.jsx)(_,{}):!o&&r?S=Object(m.jsx)("p",{className:"error",children:"something went wrong"}):!o&&!r&&Object.keys(v).length>0&&(S=Object(m.jsx)("div",{children:Object(m.jsx)(y,{data:v})})),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(h.a.h3,{animate:{x:0},initial:{x:"-300vw"},transition:{type:"spring",stiffness:120},children:"STAR WARS"}),S,Object(m.jsxs)(h.a.div,{className:"footer",animate:{x:0},initial:{x:"300vh"},transition:{type:"spring",stiffness:120,delay:2},children:["Made with love ",Object(m.jsx)(O.b,{color:"red",fontSize:"20px"})," by Tomiwa"]})]})};var T=Object(p.i)((function(e){var t=e.movie,n=Object(p.g)().push,c=t.url,r=t.title,i=t.producer,a=t.release_date,s=t.director,o=c.slice(-2,c.length-1);return Object(m.jsxs)("div",{className:"movieCard",onClick:function(){n("/movie/".concat(o))},children:[Object(m.jsx)("h3",{children:r}),Object(m.jsxs)("h4",{className:"producer",children:["producer by ",i]}),Object(m.jsxs)("h4",{children:["director by ",s]}),Object(m.jsxs)("p",{children:["released in ",a]})]})}));var I=function(e){var t=e.movies;return Object(m.jsxs)("div",{className:"movieCards",children:[Object(m.jsx)("h4",{children:"List of available movies"}),t.map((function(e,t){return Object(m.jsx)(h.a.div,{animate:{x:0},initial:{x:t%2===0?"100vw":"-100vw"},transition:{type:"spring",stiffness:120,delay:t+1},children:Object(m.jsx)(T,{movie:e})},e.title)}))]})};var R=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),a=Object(d.a)(i,2),s=a[0],o=a[1],b=Object(c.useState)([]),f=Object(d.a)(b,2),x=f[0],v=f[1];function N(){return(N=Object(l.a)(j.a.mark((function e(){var t,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://swapi.dev/api/films",o(!0),e.prev=2,e.next=5,u.a.get("https://swapi.dev/api/films");case 5:t=e.sent,n=t.data.results,c=n.map((function(e){return{title:e.title,release_date:e.release_date,producer:e.producer,url:e.url,director:e.director}})),v(c),o(!1),r(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),o(!1),r(!0);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[]);var E=null;return E=s?Object(m.jsx)("div",{className:"container",children:Object(m.jsx)(_,{})}):!s&&n?Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("p",{className:"error",children:"something went wrong"})}):Object(m.jsx)(I,{movies:x}),Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(p.d,{children:[Object(m.jsx)(p.b,{path:"/",exact:!0,children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(h.a.h3,{className:"button",animate:{y:0},initial:{y:"200vh"},transition:{type:"spring",stiffness:120},children:"STAR WARS"}),E,Object(m.jsxs)(h.a.div,{className:"footer",animate:{y:0},initial:{y:"-200vh"},transition:{type:"spring",stiffness:120,delay:2},children:["Made with love ",Object(m.jsx)(O.b,{color:"red",fontSize:"20px"})," by Tomiwa"]})]})}),Object(m.jsxs)(p.b,{path:"/movie/:id",children:[Object(m.jsx)("h4",{children:"List of available movies"}),Object(m.jsx)(A,{})]}),Object(m.jsx)(p.a,{to:"/"})]})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(s.a,{basename:"/metacare",children:Object(m.jsx)(R,{})})}),document.getElementById("root")),w()}},[[72,1,2]]]);
//# sourceMappingURL=main.2b7fecf5.chunk.js.map